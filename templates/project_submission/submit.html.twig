{% extends 'base.html.twig' %}

{% block title %}Votre voix dans la diaspora | DSNTV{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    {{ encore_entry_link_tags('project_submission_styles') }} 
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('project_submission') }}
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
{% endblock %}


{% block body %}
<div class="page-header">
    <div class="container">
        <div class="accent-shape"></div>
        <div class="african-pattern pattern-top-right"></div>
        <h1>Votre voix dans la diaspora</h1>
        <p>Partagez votre histoire, votre expertise et vos idées avec la communauté sénégalaise à travers le monde.</p>
    </div>
</div>

<div class="submission-container">
    <div class="form-card animate-on-scroll">
        <div class="form-section">
            <h5 class="section-title">Partagez votre histoire avec notre communauté</h5>
            <p class="section-text">
                Vous avez une histoire inspirante à raconter? Un projet innovant à présenter? 
                Une expertise à partager? DSNTV vous offre une plateforme pour faire entendre 
                votre voix au sein de la diaspora sénégalaise.
            </p>
        </div>

        {{ form_start(form, {'attr': {'class': 'needs-validation', 'novalidate': 'novalidate'}}) }}
        
        <div class="form-section">
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        {{ form_label(form.name) }}
                        {{ form_widget(form.name, {'attr': {'class': 'form-control', 'placeholder': 'Votre nom complet'}}) }}
                        <div class="invalid-feedback">
                            {{ form_errors(form.name) }}
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        {{ form_label(form.email) }}
                        {{ form_widget(form.email, {'attr': {'class': 'form-control', 'placeholder': 'Votre adresse email'}}) }}
                        <div class="invalid-feedback">
                            {{ form_errors(form.email) }}
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        {{ form_label(form.phone) }}
                        {{ form_widget(form.phone, {'attr': {'class': 'form-control', 'placeholder': 'Votre numéro de téléphone'}}) }}
                        <div class="invalid-feedback">
                            {{ form_errors(form.phone) }}
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        {{ form_label(form.organization) }}
                        {{ form_widget(form.organization, {'attr': {'class': 'form-control', 'placeholder': 'Votre organisation (si applicable)'}}) }}
                        <div class="invalid-feedback">
                            {{ form_errors(form.organization) }}
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-section">
            <div class="form-group">
                {{ form_label(form.projectType) }}
                {{ form_widget(form.projectType, {'attr': {'class': 'form-select custom-select'}}) }}
                <div class="invalid-feedback">
                    {{ form_errors(form.projectType) }}
                </div>
            </div>

            <div class="form-group">
                {{ form_label(form.projectTitle) }}
                {{ form_widget(form.projectTitle, {'attr': {'class': 'form-control', 'placeholder': 'Donnez un titre accrocheur à votre projet'}}) }}
                <div class="invalid-feedback">
                    {{ form_errors(form.projectTitle) }}
                </div>
            </div>

            <div class="form-group">
                {{ form_label(form.projectDescription) }}
                {{ form_widget(form.projectDescription, {'attr': {'class': 'form-control', 'placeholder': 'Décrivez votre projet en détail. Qu\'est-ce qui le rend unique? Pourquoi intéresserait-il notre audience?', 'rows': 6}}) }}
                <div class="invalid-feedback">
                    {{ form_errors(form.projectDescription) }}
                </div>
            </div>
        </div>

        <div class="form-section">
            <div class="form-group attachments-field">
                <h6 class="form-label">Documents complémentaires (images, vidéos, PDF...)</h6>
                <div class="custom-file">
                    {{ form_widget(form.attachments, {'attr': {'class': 'custom-file-input', 'hidden': 'hidden', 'id': 'file-upload'}}) }}
                    <label class="custom-file-label" for="file-upload">
                        Glissez et déposez vos fichiers ou cliquez pour les sélectionner
                    </label>
                </div>
                <small class="form-text text-muted">
                    Formats acceptés: images, PDF, vidéos courtes. Taille maximale: 10 Mo par fichier.
                </small>
            </div>

            <div class="form-group">

                <div class="recaptcha-container">
                    <div class="g-recaptcha" 
                         data-sitekey="{{ google_recaptcha_site_key }}"
                         data-callback="recaptchaCallback"
                         data-expired-callback="recaptchaExpired"></div>
                </div>

                <div class="invalid-feedback" id="recaptcha-error" style="display: none;">
                    Veuillez confirmer que vous n'êtes pas un robot.
                </div>
            </div>

            <div class="form-group mb-0">
                <button type="submit" class="btn btn-primary btn-lg w-100">Soumettre mon projet</button>
            </div>
        </div>
        
        {{ form_end(form) }}
    </div>
</div>


{% endblock %}